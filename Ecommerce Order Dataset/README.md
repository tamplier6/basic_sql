# Основы SQL: Аналитика e-commerce

Проект был выполнен для практики работы с PostgreSQL.

Состоит из 15 заданий на составление SQL-запросов к базе данных интернет-магазина.
Датасет включает информацию о заказах, клиентах, товарах, оплатах и продавцах, что позволяет решать задачи прикладной аналитики.

# Описание таблиц

- Таблица orders (заказы)

Содержит информацию о заказах клиентов.

order_id — первичный ключ, уникальный идентификатор заказа;

customer_id — внешний ключ, ссылка на таблицу customers;

order_status — статус заказа (delivered, cancelled, processing и т. д.);

order_purchase_timestamp — дата и время создания заказа;

order_approved_at — дата и время подтверждения заказа;

order_delivered_timestamp — дата и время доставки;

order_estimated_delivery_date — ожидаемая дата доставки.

- Таблица order_items (товары в заказе)

Содержит позиции товаров внутри заказа.

order_id — внешний ключ, ссылка на таблицу orders;

product_id — внешний ключ, ссылка на таблицу products;

seller_id — идентификатор продавца;

price — цена товара;

shipping_charges — стоимость доставки.

- Таблица customers (клиенты)

Хранит информацию о клиентах интернет-магазина.

customer_id — первичный ключ, уникальный идентификатор клиента;

customer_zip_code_prefix — почтовый индекс;

customer_city — город;

customer_state — штат/регион.

- Таблица payments (оплаты)

Содержит информацию о платежах клиентов.

order_id — внешний ключ, ссылка на таблицу orders;

payment_sequential — номер платежа в заказе;

payment_type — тип платежа (credit_card, debit_card и др.);

payment_installments — количество платежей (для рассрочек);

payment_value — сумма транзакции.

- Таблица products (товары)

Содержит информацию о товарах.

product_id — первичный ключ, уникальный идентификатор товара;

product_category_name — категория товара;

product_weight_g — вес (граммы);

product_length_cm — длина (см);

product_height_cm — высота (см);

product_width_cm — ширина (см).

# Список заданий

В рамках проекта были решены следующие аналитические задачи:

- Уникальные способы оплаты клиентов.

- Количество заказов по статусам.

- Количество клиентов по городам.

- Топ-5 категорий товаров по средней цене.

- Количество уникальных продавцов в каждом штате.

- Дата первого заказа каждого клиента.

- Количество заказов с задержкой доставки.

- Среднее время доставки заказа (в днях).

- Средний чек по штатам клиентов.

- Топ-3 продукта, которые чаще покупали в рассрочку.

- Категория товаров с наибольшей выручкой.

- Клиенты с разницей между первым и последним заказом более года.

- Новые клиенты по месяцам.

- Нумерация заказов клиента с помощью оконных функций.

- Топ-5 клиентов с наибольшим ростом среднего чека.